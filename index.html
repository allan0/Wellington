<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Essential Mini App Viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <title>Wellington Campus - Home</title>

    <!-- Standard Meta -->
    <meta name="description" content="Welcome to Wellington Campus! Explore courses, quests, hackathons, and track your progress in our Telegram Mini App.">
    <meta name="keywords" content="Wellington Campus, UAE university, education, courses, admissions, Telegram Mini App, profile, points, leaderboard, quests, hackathon">
    <meta name="author" content="Wellington Campus">
    <meta property="og:title" content="Wellington Campus - Home">
    <meta property="og:description" content="Your hub for Wellington Campus activities: courses, quests, hackathons, and profile management.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wellingtoncampus.co/index.html">
    <meta property="og:image" content="./wellingtoncampus.png">
    <meta property="og:image:alt" content="Wellington Campus Logo">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    <!-- **Telegram Mini App Script - MUST be first script** -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@600&display=swap" rel="stylesheet">

    <!-- Link Shared Styles -->
    <link rel="stylesheet" href="shared-styles.css">

    <!-- Link Page-Specific Styles (Inline for this example) -->
    <style>
        /* --- INDEX.HTML SPECIFIC STYLES --- */
        .banner {
            position: relative; background: url('./wellingtoncampus.png') no-repeat center center;
            background-size: contain; background-color: rgba(0, 51, 102, 0.1);
            color: var(--text-color); padding: 3rem 1rem 4rem 1rem; /* Adjust padding */
            text-align: center; border-radius: var(--border-radius); box-shadow: var(--shadow);
            overflow: hidden; min-height: 280px; /* Adjust height */
            margin-bottom: 1.5rem; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
        }
         .banner::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.3); z-index: 1; border-radius: inherit; }
         .banner h1, .banner p, .banner .btn-custom { position: relative; z-index: 2; color: var(--accent-color); }
         .banner h1 { text-shadow: 1px 1px 3px rgba(0,0,0,0.4); font-size: 1.8rem; /* Match shared H1 */ }
         .banner p { font-size: 1.05rem; margin-bottom: 1.2rem; max-width: 600px; }

        .feature-card {
            padding: 1.2rem; text-align: center; background-color: rgba(255, 255, 255, 0.8); /* Lighter */
            border-radius: 10px; transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%; display: flex; flex-direction: column; justify-content: space-between;
            border: 1px solid rgba(0, 51, 102, 0.08);
            margin-bottom: 1rem; /* Added margin for spacing */
        }
        .feature-card:hover { transform: translateY(-4px); box-shadow: 0 8px 15px rgba(0, 51, 102, 0.1); }
        .feature-card h3 { font-size: 1.1rem; margin-top: 0.5rem;}
        .feature-card p { font-size: 0.9rem; }

        #intro-video-container { margin-top: 1rem; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); width: 100%; line-height: 0; }
        #introVideo { width: 100%; height: auto; display: block; max-height: 35vh; object-fit: cover; }

        /* Reusing .card styles from shared-styles.css */
        .content-section {
             /* Inherits .card styles essentially */
             margin-bottom: 1.5rem;
        }
        /* No need for separate .content-section-header/body if using .card structure */

        .subscription-form form { margin-top: 1rem; }
        .subscription-form .form-control { border-radius: 50px; padding: 0.7rem 1.2rem; font-size: 0.9rem;}
        .subscription-form .btn-custom { border-radius: 50px; padding: 0.7rem 1.5rem; width: 100%; }

        /* Animation styles */
        .animate-on-scroll { opacity: 0; transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in { opacity: 0; }
        .slide-up { transform: translateY(30px); }
        .slide-left { transform: translateX(-30px); }
        .slide-right { transform: translateX(30px); }
        .animate-on-scroll.visible { opacity: 1; transform: translateY(0) translateX(0); }

    </style>
</head>
<body>
    <!-- Fixed User Profile (Defined in shared-styles.css) -->
    <div id="user-profile" data-bs-toggle="modal" data-bs-target="#userProfileModal">
        <span id="user-avatar">ðŸ‘¤</span>
        <span id="user-name-display">Player</span>
        | <i class="fas fa-star"></i>
        <span id="welly-points">0</span>Â WP <!-- Use Â  for spacing -->
    </div>

    <!-- Fixed Header Logo (Defined in shared-styles.css) -->
    <img src="./wellingtoncampus.png" alt="Wellington Campus Logo" id="header-logo">

    <!-- Main Content Area (Uses .container for padding and centering) -->
    <div class="container" id="home-content">

         <!-- Page Title -->
         <h1 style="margin-bottom: 1.5rem;">Welcome to Wellington Campus</h1>

        <!-- Banner -->
        <section class="banner animate-on-scroll fade-in">
             <h1>Discover, Learn, Thrive</h1>
             <p>Spring 2025 Applications Now Open!</p>
             <a href="#" onclick="alert('Admissions page not implemented yet.'); return false;" class="btn btn-custom">Apply Now</a>
             <!-- Link updated to prevent actual navigation for now -->
         </section>

        <!-- Features Section (Using .card structure) -->
        <section class="card animate-on-scroll slide-up">
            <div class="card-header"><h2><i class="fas fa-star"></i> Key Features</h2></div>
            <div class="card-body">
                 <div class="row g-3"> <!-- Use g-3 for spacing -->
                     <!-- Feature 1 -->
                     <div class="col-md-4 col-sm-6 d-flex align-items-stretch">
                         <div class="feature-card animate-on-scroll slide-left">
                             <div>
                                <h3><i class="fas fa-lightbulb text-primary fa-2x mb-3"></i><br>Innovative Courses</h3>
                                <p class="small">Cutting-edge programs in tech, design, and business.</p>
                            </div>
                         </div>
                    </div>
                    <!-- Feature 2 -->
                     <div class="col-md-4 col-sm-6 d-flex align-items-stretch">
                         <div class="feature-card animate-on-scroll slide-up">
                             <div>
                                <h3><i class="fas fa-chalkboard-teacher text-primary fa-2x mb-3"></i><br>Top Instructors</h3>
                                <p class="small">Learn from industry leaders and renowned academics.</p>
                             </div>
                         </div>
                     </div>
                     <!-- Feature 3 -->
                     <div class="col-md-4 col-sm-12 d-flex align-items-stretch"> <!-- Make last one full width on small screens -->
                         <div class="feature-card animate-on-scroll slide-right">
                             <div>
                                 <h3><i class="fas fa-globe text-primary fa-2x mb-3"></i><br>Online Education</h3>
                                 <p class="small">Flexible learning options available 24/7, anywhere.</p>
                             </div>
                         </div>
                    </div>
                 </div>
                 <!-- Video - Placed after the features grid within the card body -->
                 <div id="intro-video-container" class="mt-4 animate-on-scroll fade-in">
                     <video id="introVideo" controls muted playsinline preload="metadata" aria-label="Binciya Introduction Video">
                         <source src="./Binciya-Introduction.mp4#t=38" type="video/mp4">
                         Your browser does not support the video tag.
                     </video>
                 </div>
            </div>
        </section>

        <!-- Subscription Section (Using .card structure) -->
        <section class="card subscription-form animate-on-scroll fade-in">
            <div class="card-header"><h2><i class="fas fa-envelope-open-text"></i> Stay Informed</h2></div>
            <div class="card-body">
                <p class="text-center small">Subscribe for updates on courses, events, and admissions.</p>
                <form class="row g-2 justify-content-center" aria-label="Subscription form">
                    <div class="col-md-6 col-8">
                        <label for="subEmail" class="visually-hidden">Email address</label>
                        <input type="email" class="form-control form-control-sm" id="subEmail" placeholder="Enter your email" aria-label="Email" required>
                    </div>
                    <div class="col-md-3 col-4">
                        <button type="submit" class="btn btn-custom btn-sm w-100">Subscribe</button>
                        <!-- Added w-100 for button width -->
                    </div>
                </form>
            </div>
        </section>

        <!-- Footer -->
         <footer class="text-center mt-4 mb-2 text-muted">
             <small>Â© 2024-25 Wellington Campus</small>
         </footer>

    </div> <!-- End .container -->

    <!-- Bottom Navigation (Defined in shared-styles.css) -->
    <nav class="bottom-nav" aria-label="Mobile navigation">
         <div class="d-flex justify-content-around w-100">
             <a href="index.html" target="_self" class="btn active"><i class="fas fa-home"></i>Home</a> <!-- Set active -->
             <a href="courses.html" target="_self" class="btn"><i class="fas fa-book"></i>LMS</a>
             <a href="game.html" target="_self" class="btn"><i class="fas fa-puzzle-piece"></i>Quest</a>
             <a href="hackathons.html" target="_self" class="btn"><i class="fas fa-laptop-code"></i>Hackathon</a>
         </div>
     </nav>

    <!-- Profile Modal (Defined in shared-styles.css) -->
    <div class="modal fade" id="userProfileModal" tabindex="-1" aria-labelledby="userProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userProfileModalLabel">Your Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="modal-user-avatar">ðŸ‘¤</div>
                    <h4 id="modal-user-name">Player Name</h4>
                    <div id="modal-welly-points-display">
                        <i class="fas fa-star"></i> <span id="modal-welly-points">0</span> WP
                    </div>
                    <div id="profile-rank-display">Rank: Calculating...</div>
                    <div id="profile-leaderboard-section">
                        <h5><i class="fas fa-trophy me-2" style="color: var(--primary-color);"></i>Leaderboard (Top 5)</h5>
                        <div id="leaderboard-loading" style="display: none;">Loading leaderboard...</div>
                        <div id="leaderboard-empty" style="display: none;">Leaderboard is empty or unavailable.</div>
                        <div class="table-responsive">
                            <table class="table table-striped table-hover table-sm caption-top" id="profile-leaderboard-table">
                                <thead><tr><th scope="col" style="width: 15%; text-align: center;">Rank</th><th scope="col">Player</th><th scope="col" style="width: 30%; text-align: right;">Points</th></tr></thead>
                                <tbody id="profile-leaderboard-body"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <div> <!-- Wrap button and feedback -->
                        <button type="button" class="btn btn-danger btn-sm" id="delete-progress-btn">
                            <i class="fas fa-trash-alt me-1"></i> Reset Progress
                        </button>
                        <div id="reset-feedback" class="small"></div> <!-- Feedback area -->
                    </div>
                    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- Link Shared Script -->
    <script src="shared-script.js"></script>
    <!-- Page-Specific Script -->
    <script>
        // Ensure shared script is loaded and DOM ready
        document.addEventListener('DOMContentLoaded', function() {

            // Check if shared functions are available
            if (!window.wellyShared) {
                console.error("Shared script (shared-script.js) not loaded or failed!");
                return;
            }

            // Get specific elements for this page
            const videoElement = document.getElementById('introVideo');
            const animatedElements = document.querySelectorAll('.animate-on-scroll');
            const subForm = document.querySelector('.subscription-form form');

            // --- Page-Specific Initializations ---
             function initHomePage() {
                 console.log("Initializing Home Page specific features...");

                 // Video Intersection Observer
                 let videoTimeSet = false;
                 if (videoElement) {
                     const videoObserver = new IntersectionObserver((entries) => {
                         entries.forEach(entry => {
                             if (entry.isIntersecting && entry.intersectionRatio >= 0.5 && !videoTimeSet) {
                                 try {
                                     videoElement.currentTime = 38;
                                     videoTimeSet = true;
                                     console.log("Video time set to 38s");
                                     // videoObserver.unobserve(videoElement); // Optional
                                 } catch (e) { console.warn("Could not set video time yet:", e); }
                             }
                         });
                     }, { threshold: 0.5 });
                     videoObserver.observe(videoElement);
                 } else { console.warn("Video element (#introVideo) not found."); }

                 // Animation Intersection Observer
                 if ("IntersectionObserver" in window && animatedElements.length > 0) {
                     const animationObserver = new IntersectionObserver((entries, observer) => {
                         entries.forEach(entry => {
                             if (entry.isIntersecting) {
                                 entry.target.classList.add('visible');
                                 observer.unobserve(entry.target);
                             }
                         });
                     }, { threshold: 0.1 });
                     animatedElements.forEach(el => animationObserver.observe(el));
                 } else {
                     animatedElements.forEach(el => el.classList.add('visible'));
                     console.warn("IntersectionObserver not supported or no elements to animate.");
                 }

                 // Subscription Form Handler
                 if (subForm) {
                     subForm.addEventListener('submit', function(e) {
                         e.preventDefault();
                         const emailInput = this.querySelector('input[type="email"]');
                         const email = emailInput ? emailInput.value : 'N/A';
                         console.log("Subscription attempt:", email);
                         if (window.wellyShared.tg && window.wellyShared.tg.showAlert) {
                             window.wellyShared.tg.showAlert('Thank you for subscribing!');
                         } else {
                             alert('Thank you for subscribing!');
                         }
                         this.reset();
                     });
                 }
             }

            // Call page-specific init function
            initHomePage();

        }); // End DOMContentLoaded for page-specific script
    </script>

</body>
</html>
